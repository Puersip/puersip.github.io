---
title: 单元测试之边界值测试
shortTitle: QA学习录
description: QA学习录
category: QA
tag: 学习
sidebar: true
toc: true
breadcrumb: false
editLink: false
---

## 什么是单元测试

什么是单元？单元可是认为是编写代码的单位。

面向过程编程：单元可以是一个函数，也可以是一页代码。

面向对象编程：单元可以是一个对象，也可以是对象内的一个函数。

## 单元测试的常用方法

### 边界值测试

```
程序可以看作函数，程序的输入域测试（也叫边界值测试）是最常用的功能测试技术。

边界值测试的基本思想: 错误通常出现在输入变量的极值附近。

关于应用程序输入域测试分别有两个问题: 

1. 第一个问题是我们是否考虑变量的无效值:
仅考虑变量的有效性: 边界值分析
既考虑变量的有效性，又考虑变量的无效性: 稳健型测试

2. 第二个问题是是否要同可靠性理论一样做出单故障假设:
对于多变量输入的函数，假设多变量之间是独立的，故障是由于单变量的单故障引起的

根据上面的两点分析，会引申出下面四种不同的边界值测试。
```

#### 边界值分析

1. 边界值分析技术的基本思想是利用输入变量的最小值、略大于最小值的值、正常值、
   略小于最大值的值，最大值，来验证程序。

2. 边界值分析的另一个要点基于一个十分重要的假设，
   这个假设在可靠性理论中被称作“单点故障假设”，即失效问题通常不会由两个（或多个）故障同时引发。

3. 基于上述两点，构造边界值测试用例的方法是: 
   仅让一个变量取极值，而让其他所有变量都取正常值。
$$
\{ \lt \chi_{1nom}, \chi_{2min} \gt, \lt \chi_{1nom}, \chi_{2min+} \gt, \lt \chi_{1nom}, \chi_{2nom} \gt, \lt \chi_{1nom}, \chi_{2max-} \gt, \lt \chi_{1nom}, \chi_{2max} \gt, 
$$

$$
\lt \chi_{1min}, \chi_{2nom} \gt,\lt \chi_{1min+}, \chi_{2nom} \gt,\lt \chi_{1max-}, \chi_{2nom} \gt,\lt \chi_{1max}, \chi_{2nom} \gt, \}
$$


#### 基本边界值分析技术的扩展

- 变量数目的扩展
```
对于一个n变量函数，让一个变量依次取min、min+、nom、max-、max各个极值，而保持其他所有变量为正常值，
只要依次对每个变量都重复这个过程，那么对于一个n变量的函数，边界值分析就会产生4n+1个不同的测试用例。
```

- 取值范围的扩展
```
取值范围的扩展取决于变量本身，也就是变量的物理意义。当一个变量赋予语义的属性后，他本身的变量范围将会
发生变化。
```

#### 边界值分析的局限性

边界值分析非常适合测试函数的多个变量是相互独立的，各个变量又都代表实际的物理量的场景。

### 健壮性测试

健壮性测试是对边界值分析的一种简单扩展，在对变量5个边界值分析的基础上，进一步考察大于最大值（max+）的值和略小于最小值（min-）的值。边界值分析的大部分属性都直接适用于健壮性测试，特别是一般性和局限性。对健壮性测试来说，最重要的不是输入，而是期望输出（当某个物理量超过上限和下限的时候，期望的输出是否满足要求）。健壮性的测试最主要的价值在于把注意力集中在系统对异常情况的处理上。

### 最坏情况测试

边界值测试是基于可靠性理论中的单故障假设的，如果抛开单故障假设，就意味着要考察多个变量同时取极值的情况。对每个变量，首先构造包含min、min+、nom、max-、max这5个基本值的取值集合，之后通过计算这些集合的笛卡尔积来构造测试用例。对于n个变量函数来说，最坏情况测试将会构造出$5^n$个测试用例，而边界值分析只有$4n+1$个测试用例。

各个物理变量之间存在大量的相互作用，而且函数失效的代价极高的情况最适合采用最坏情况测试。

### 健壮最坏情况测试

在对测试有特别极端的要求时，应该采用健壮最坏情况测试。这就要用到健壮性测试的7个值集合的笛卡尔积，得到$7^n$个测试用例。

### 特殊值测试

特殊值测试时使用最广泛的功能测试，也是最直观，最难统一的。一般这种情况，都是要求测试人员利用其背景知识，对程序的“软肋”进行攻击，这种又被称为随机测试(ad hoc testing)或定制测试(seat-of-the-pantstesting)。